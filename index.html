<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <title>App</title>
</head>

<body>
  <div class="container">
    <div class="row">
      <div class="col-8">
        <div class="form-container">
          <canvas id="myChart" style="box-sizing: border-box; display: block; height: 450px; width: 450px;" width="450"
            height="450"></canvas>
          <!-- Chart Configuration -->
          <form id="chart-config">
            <div id="tab-general-fields" data-tab="general-fields" class="tab-button">
              General
            </div>
            <div id="tab-xAxis-fields" data-tab="xAxis-fields" class="tab-button">X-Axis</div>
            <div id="tab-yAxis-fields" data-tab="yAxis-fields" class="tab-button">Y-Axis</div>
            <div id="tab-annotations-fields" data-tab="annotations-fields" class="tab-button active">
              Annotations
            </div>
            <div id="tab-style-fields" data-tab="style-fields" class="tab-button">Style</div>


            <div id="general-fields" class="tab-content" style="display: none;">
              <label> Title: </label>
              <input type="text" name="title" value="Default Title" class="colby-input">
              <label> X-axis Dataset: </label>
              <select id="xAxisSelect" name="xAxisDataset" class="colby-select">
                <option value="0">2017-08-02</option>
                <option value="1">3</option>
              </select>
              <label> Plotted Datasets: </label>
              <div id="plotDatasetsCheckboxes">
                <input type="checkbox" id="dataset0" value="0" style="display: none;">
                <label for="dataset0" style="display: none;">2017-08-02</label>
                <input type="checkbox" id="dataset1" value="1"><label for="dataset1">3</label>
              </div>
              <label> Stacked: </label>
              <select name="stacked" class="colby-input">
                <option value="true">True</option>
                <option value="false" selected="">False</option>
              </select>
              <label> Switch rows and columns? </label>
              <select name="switch" class="colby-input">
                <option value="true">True</option>
                <option value="false" selected="">False</option>
              </select>

              <div>
                <label> Show Labels </label>
                <input type="checkbox" id="labelCheck" name="labelCheck" class="colby-input">
              </div>

              <div>
                <label> Show Legend </label>
                <input type="checkbox" id="legendCheck" name="legendCheck" class="colby-input">
              </div>


            </div>


            <div id="xAxis-fields" class="tab-content" style="display: none;">
              <label> X-Min: </label>
              <input type="number" name="xMin" value="" class="colby-input">
              <label> X-Max: </label>
              <input type="number" name="xMax" value="" class="colby-input">
            </div>


            <div id="yAxis-fields" class="tab-content" style="display: none">
              <label> Y-Min: </label>
              <input type="number" name="yMin" value="" class="colby-input">
              <label> Y-Max: </label>
              <input type="number" name="yMax" value="" class="colby-input">
              <label> Y-Axis Title: </label>
              <input type="text" name="yTitle" value="" class="colby-input">
            </div>


            <div id="annotations-fields" class="tab-content" style="display: block">
              <button type="button" class="section-button toggle-visibility" data-visibility="lineAnnotation">
                Line Annotations
              </button>
              <div id="lineAnnotation" style="display: none">
                <label> Axis: </label>
                <select name="lineAxis" class="colby-input">
                  <option value="x">X</option>
                  <option value="y" selected="">Y</option>
                </select>
                <label> Axis Position: </label>
                <input type="number" name="linePos" value="10" class="colby-input">
                <label> Line Label: </label>
                <input type="text" name="lineLabel" value="Test" class="colby-input">
                <label> Line Style: </label>
                <select name="lineStyle" class="colby-input">
                  <option value="none">None</option>
                  <option value="dashed" selected="">Dashed</option>
                  <option value="wave">wave</option>
                </select>
                <label> Line Color: </label>
                <input type="color" name="lineColor" value="#D3D3D3" class="colby-input">
                <label> Line Thickness: </label>
                <input type="number" name="lineThickness" value="1" class="colby-input">
              </div>



              <button type="button" class="section-button toggle-visibility" data-visibility="boxAnnotations">
                Box Annotations
              </button>
              <div id="boxAnnotations" style="display: none"></div>
              <button type="button" class="section-button toggle-visibility" data-visibility="labelAnnotations">
                Label Annotations
              </button>
              <div id="labelAnnotations" style="display: none"></div>

              <button type="button" class="section-button toggle-visibility" data-visibility="arrowAnnotation">
                Arrow Annotations
              </button>
              <div id="arrowAnnotation" style="display: none">
                <label> X Min Value: </label>
                <input type="number" name="arrowXMin" value="" class="colby-input">
                <label> X Max Value: </label>
                <input type="number" name="arrowXMax" value="" class="colby-input">
                <label> Y Min Value: </label>
                <input type="number" name="arrowYMin" value="" class="colby-input">
                <label> Y Max Value: </label>
                <input type="number" name="arrowYMax" value="" class="colby-input">
                <label> Double Arrow: </label>
                <select name="doubleArrow" class="colby-input">
                  <option value="true">true</option>
                  <option value="false" selected="">false</option>
                </select>
                <label> Label: </label>
                <input type="text" name="arrowLabel" value="" class="colby-input">
                <label> Arrow Color: </label>
                <input type="color" name="arrowColor" value="#D3D3D3" class="colby-input">
              </div>
            </div>


            <div id="style-fields" class="tab-content" style="display: none">
              <label> Title Font: <input type="text" name="titleFont" value="Lora" class="colby-input">
              </label>
              <label> Title Color: <input type="color" name="titleColor" value="#008080" class="colby-input">
              </label>
              <label> Title Size: <input type="number" name="titleSize" value="18" class="colby-input">
              </label>
            </div>
          </form>
        </div>
      </div>

      <div class="col-4">
        <h5>Recommended Narrative</h5>
        <div class="response-content">
          <textarea id="responseTextarea"></textarea>
        </div>
      </div>
    </div>
  </div>

  <div class="button-container">
    <button class="download-button" onclick="downloadChart()">
      Download Chart
    </button>
  </div>
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

  <script>
    function createDatasets(colorArray) {
      const labels = ['January', 'February', 'March', 'April', 'May', 'June', 'July']

      return {
        labels: labels,
        datasets: [
          {
            label: 'Dataset 1',
            data: [3, 1, 4, 2, 5, 9, 4],
            backgroundColor: 'rgba(0, 119, 290, 0.2)',
            borderColor: 'rgba(0, 119, 290, 0.6)'
          }
        ]
      };

    }
    window.colbyChart = {
      chartType: 'line',
      createDatasets
    }


  </script>


  <script type="module" src="/main.js"></script>
</body>

</html>