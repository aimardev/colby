<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <title>Vite App</title>
</head>

<body>
  <div class="container">
    <div class="row">
      <div class="col-8">
        <div class="form-container">
          <canvas id="myChart" style="box-sizing: border-box; display: block; height: 450px; width: 450px;" width="450"
            height="450"></canvas>
          <form id="chartConfig">

            <div class="tab-button active" onclick="openTab('generalFields')">
              General
            </div>
            <div class="tab-button" onclick="openTab('xAxisFields')">X-Axis</div>
            <div class="tab-button" onclick="openTab('yAxisFields')">Y-Axis</div>
            <div class="tab-button" onclick="openTab('annotationsFields')">
              Annotations
            </div>
            <div class="tab-button" onclick="openTab('styleFields')">Style</div>


            <div id="generalFields" class="tab-content" style="display: block;">
              <label>
                Title:
                <input type="text" name="title" value="Default Title" onchange="updateChart()">
              </label>
              <label>
                X-axis Dataset:
                <select id="xAxisSelect" name="xAxisDataset" onchange="updateSelectOptions(); updateChart()">
                  <option value="0">2017-08-02</option>
                  <option value="1">3</option>
                </select>
              </label>
              <label>
                Plotted Datasets:
                <div id="plotDatasetsCheckboxes"><input type="checkbox" id="dataset0" value="0"
                    style="display: none;"><label for="dataset0" style="display: none;">2017-08-02</label><input
                    type="checkbox" id="dataset1" value="1"><label for="dataset1">3</label></div>
              </label>
              <label>
                Stacked:
                <select name="stacked" onchange="updateChart()">
                  <option value="true">True</option>
                  <option value="false" selected="">False</option>
                </select>
              </label>
              <label>
                Switch rows and columns?
                <select name="switch" onchange="updateChart()">
                  <option value="true">True</option>
                  <option value="false" selected="">False</option>
                </select>
              </label>

              <div>
                <label>
                  Show Labels
                  <input type="checkbox" id="labelCheck" name="labelCheck" onchange="updateChart()">
                </label>
              </div>

              <div>
                <label>
                  Show Legend
                  <input type="checkbox" id="legendCheck" name="legendCheck" onchange="updateChart()">
                </label>
              </div>


            </div>


            <div id="xAxisFields" class="tab-content" style="display: none;">
              <label>
                X-Min:
                <input type="number" name="xMin" value="" onchange="updateChart()">
              </label>
              <label>
                X-Max:
                <input type="number" name="xMax" value="" onchange="updateChart()">
              </label>
            </div>


            <div id="yAxisFields" class="tab-content" style="display: none">
              <label>
                Y-Min:
                <input type="number" name="yMin" value="" onchange="updateChart()">
              </label>
              <label>
                Y-Max:
                <input type="number" name="yMax" value="" onchange="updateChart()">
              </label>
              <label>
                Y-Axis Title:
                <input type="text" name="yTitle" value="" onchange="updateChart()">
              </label>
            </div>


            <div id="annotationsFields" class="tab-content" style="display: none">

              <button type="button" class="section-button" onclick="toggleVisibility('lineAnnotation')">
                Line Annotations
              </button>
              <div id="lineAnnotation" style="display: none">
                <label>
                  Axis:
                  <select name="lineAxis" onchange="updateChart()">
                    <option value="x">X</option>
                    <option value="y" selected="">Y</option>
                  </select>
                </label>
                <label>
                  Axis Position:
                  <input type="number" name="linePos" value="" onchange="updateChart()">
                </label>
                <label>
                  Line Label:
                  <input type="text" name="lineLabel" value="" onchange="updateChart()">
                </label>
                <label>
                  Line Style:
                  <select name="lineStyle" onchange="updateChart()">
                    <option value="none">None</option>
                    <option value="dashed" selected="">Dashed</option>
                    <option value="wave">wave</option>
                  </select>
                </label>
                <label>
                  Line Color:
                  <input type="color" name="lineColor" value="#D3D3D3" onchange="updateChart()">
                </label>
                <label>
                  Line Thickness:
                  <input type="number" name="lineThickness" value="1" onchange="updateChart()">
                </label>
              </div>



              <button type="button" class="section-button" onclick="toggleVisibility('boxAnnotations')">
                Box Annotations
              </button>
              <div id="boxAnnotations" style="display: none"></div>




              <button type="button" class="section-button" onclick="toggleVisibility('labelAnnotations')">
                Label Annotations
              </button>
              <div id="labelAnnotations" style="display: none"></div>

              <button type="button" class="section-button" onclick="toggleVisibility('arrowAnnotation')">
                Arrow Annotations
              </button>
              <div id="arrowAnnotation" style="display: none">
                <label>
                  X Min Value:
                  <input type="number" name="arrowXMin" value="" onchange="updateChart()">
                </label>
                <label>
                  X Max Value:
                  <input type="number" name="arrowXMax" value="" onchange="updateChart()">
                </label>
                <label>
                  Y Min Value:
                  <input type="number" name="arrowYMin" value="" onchange="updateChart()">
                </label>
                <label>
                  Y Max Value:
                  <input type="number" name="arrowYMax" value="" onchange="updateChart()">
                </label>
                <label>
                  Double Arrow:
                  <select name="doubleArrow" onchange="updateChart()">
                    <option value="true">true</option>
                    <option value="false" selected="">false</option>
                  </select>
                </label>
                <label>
                  Label:
                  <input type="text" name="arrowLabel" value="" onchange="updateChart()">
                </label>
                <label>
                  Arrow Color:
                  <input type="color" name="arrowColor" value="#D3D3D3" onchange="updateChart()">
                </label>
              </div>
            </div>


            <div id="styleFields" class="tab-content" style="display: none">
              <label>
                Title Font:
                <input type="text" name="titleFont" value="Lora" onchange="updateChart()">
              </label>
              <label>
                Title Color:
                <input type="color" name="titleColor" value="#008080" onchange="updateChart()">
              </label>
              <label>
                Title Size:
                <input type="number" name="titleSize" value="18" onchange="updateChart()">
              </label>
            </div>
          </form>
        </div>
      </div>

      <div class="col-4">
        <h5>Recommended Narrative</h5>
        <div class="response-content">
          <textarea id="responseTextarea"></textarea>
        </div>
      </div>
    </div>
  </div>

  <div class="button-container">
    <button class="download-button" onclick="downloadChart()">
      Download Chart
    </button>
  </div>
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

  <script>
    function createDatasets(data, colorArray) {
      return [
        {
          "label": "2017-08-02",
          "data": [
            "2017-08-05",
            "2017-08-09",
            "2017-08-12",
            "2017-08-14"
          ],
          "backgroundColor": "rgba(255, 99, 132, 1)",
          "borderColor": "rgba(0, 0, 0, 1)",
          "borderWidth": 1
        },
        {
          "label": 3,
          "data": [
            1,
            4,
            2,
            5
          ],
          "backgroundColor": "rgba(75, 192, 192, 1)",
          "borderColor": "rgba(0, 0, 0, 1)",
          "borderWidth": 1
        }
      ]

    }
    window.colChart = {
      chartType: 'line',
      createDatasets
    }

 
  </script>


  <script type="module" src="/main.js"></script>
</body>

</html>